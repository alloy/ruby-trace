<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
.highlight { background-color: rgb(255, 255, 204); }
pre { display: inline; }
div.calls { display: inline; }
span.method_definition { font-weight: bold; }
span.method_call { font-weight: bold; }
div.line a { font-size: 12px; }
</style>
</head>
<body>
<div class='line' id='1'><pre>  1: </pre><pre>require 'mocha/method_matcher'</pre></div>
<div class='line' id='2'><pre>  2: </pre><pre>require 'mocha/parameters_matcher'</pre></div>
<div class='line' id='3'><pre>  3: </pre><pre>require 'mocha/expectation_error'</pre></div>
<div class='line' id='4'><pre>  4: </pre><pre>require 'mocha/return_values'</pre></div>
<div class='line' id='5'><pre>  5: </pre><pre>require 'mocha/exception_raiser'</pre></div>
<div class='line' id='6'><pre>  6: </pre><pre>require 'mocha/thrower'</pre></div>
<div class='line' id='7'><pre>  7: </pre><pre>require 'mocha/yield_parameters'</pre></div>
<div class='line' id='8'><pre>  8: </pre><pre>require 'mocha/is_a'</pre></div>
<div class='line' id='9'><pre>  9: </pre><pre>require 'mocha/in_state_ordering_constraint'</pre></div>
<div class='line' id='10'><pre> 10: </pre><pre>require 'mocha/change_state_side_effect'</pre></div>
<div class='line' id='11'><pre> 11: </pre><pre>require 'mocha/cardinality'</pre></div>
<div class='line' id='12'><pre> 12: </pre><pre></pre></div>
<div class='line' id='13'><pre> 13: </pre><pre>module Mocha</pre></div>
<div class='line' id='14'><pre> 14: </pre><pre></pre></div>
<div class='line' id='15'><pre> 15: </pre><pre>  # Methods on expectations returned from {Mock#expects}, {Mock#stubs}, {ObjectMethods#expects} and {ObjectMethods#stubs}.</pre></div>
<div class='line' id='16'><pre> 16: </pre><pre>  class Expectation</pre></div>
<div class='line' id='17'><pre> 17: </pre><pre></pre></div>
<div class='line' id='18'><pre> 18: </pre><pre>    # Modifies expectation so that the number of calls to the expected method must be within a specific +range+.</pre></div>
<div class='line' id='19'><pre> 19: </pre><pre>    #</pre></div>
<div class='line' id='20'><pre> 20: </pre><pre>    # @param [Range,Integer] range specifies the allowable range in the number of expected invocations.</pre></div>
<div class='line' id='21'><pre> 21: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='22'><pre> 22: </pre><pre>    #</pre></div>
<div class='line' id='23'><pre> 23: </pre><pre>    # @example Specifying a specific number of expected invocations.</pre></div>
<div class='line' id='24'><pre> 24: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='25'><pre> 25: </pre><pre>    #   object.expects(:expected_method).times(3)</pre></div>
<div class='line' id='26'><pre> 26: </pre><pre>    #   3.times { object.expected_method }</pre></div>
<div class='line' id='27'><pre> 27: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='28'><pre> 28: </pre><pre>    #</pre></div>
<div class='line' id='29'><pre> 29: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='30'><pre> 30: </pre><pre>    #   object.expects(:expected_method).times(3)</pre></div>
<div class='line' id='31'><pre> 31: </pre><pre>    #   2.times { object.expected_method }</pre></div>
<div class='line' id='32'><pre> 32: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='33'><pre> 33: </pre><pre>    #</pre></div>
<div class='line' id='34'><pre> 34: </pre><pre>    # @example Specifying a range in the number of expected invocations.</pre></div>
<div class='line' id='35'><pre> 35: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='36'><pre> 36: </pre><pre>    #   object.expects(:expected_method).times(2..4)</pre></div>
<div class='line' id='37'><pre> 37: </pre><pre>    #   3.times { object.expected_method }</pre></div>
<div class='line' id='38'><pre> 38: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='39'><pre> 39: </pre><pre>    #</pre></div>
<div class='line' id='40'><pre> 40: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='41'><pre> 41: </pre><pre>    #   object.expects(:expected_method).times(2..4)</pre></div>
<div class='line' id='42'><pre> 42: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='43'><pre> 43: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='44'><pre> 44: </pre><pre>    def times(range)</pre></div>
<div class='line' id='45'><pre> 45: </pre><pre>      @cardinality = Cardinality.times(range)</pre></div>
<div class='line' id='46'><pre> 46: </pre><pre>      self</pre></div>
<div class='line' id='47'><pre> 47: </pre><pre>    end</pre></div>
<div class='line' id='48'><pre> 48: </pre><pre></pre></div>
<div class='line' id='49'><pre> 49: </pre><pre>    # Modifies expectation so that the expected method must be called exactly twice.</pre></div>
<div class='line' id='50'><pre> 50: </pre><pre>    #</pre></div>
<div class='line' id='51'><pre> 51: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='52'><pre> 52: </pre><pre>    #</pre></div>
<div class='line' id='53'><pre> 53: </pre><pre>    # @example Expected method must be invoked exactly twice.</pre></div>
<div class='line' id='54'><pre> 54: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='55'><pre> 55: </pre><pre>    #   object.expects(:expected_method).twice</pre></div>
<div class='line' id='56'><pre> 56: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='57'><pre> 57: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='58'><pre> 58: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='59'><pre> 59: </pre><pre>    #</pre></div>
<div class='line' id='60'><pre> 60: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='61'><pre> 61: </pre><pre>    #   object.expects(:expected_method).twice</pre></div>
<div class='line' id='62'><pre> 62: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='63'><pre> 63: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='64'><pre> 64: </pre><pre>    #   object.expected_method # => unexpected invocation</pre></div>
<div class='line' id='65'><pre> 65: </pre><pre>    #</pre></div>
<div class='line' id='66'><pre> 66: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='67'><pre> 67: </pre><pre>    #   object.expects(:expected_method).twice</pre></div>
<div class='line' id='68'><pre> 68: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='69'><pre> 69: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='70'><pre> 70: </pre><pre>    def twice</pre></div>
<div class='line' id='71'><pre> 71: </pre><pre>      @cardinality = Cardinality.exactly(2)</pre></div>
<div class='line' id='72'><pre> 72: </pre><pre>      self</pre></div>
<div class='line' id='73'><pre> 73: </pre><pre>    end</pre></div>
<div class='line' id='74'><pre> 74: </pre><pre></pre></div>
<div class='line' id='75'><pre> 75: </pre><pre>    # Modifies expectation so that the expected method must be called exactly once.</pre></div>
<div class='line' id='76'><pre> 76: </pre><pre>    #</pre></div>
<div class='line' id='77'><pre> 77: </pre><pre>    # Note that this is the default behaviour for an expectation, but you may wish to use it for clarity/emphasis.</pre></div>
<div class='line' id='78'><pre> 78: </pre><pre>    #</pre></div>
<div class='line' id='79'><pre> 79: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='80'><pre> 80: </pre><pre>    #</pre></div>
<div class='line' id='81'><pre> 81: </pre><pre>    # @example Expected method must be invoked exactly once.</pre></div>
<div class='line' id='82'><pre> 82: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='83'><pre> 83: </pre><pre>    #   object.expects(:expected_method).once</pre></div>
<div class='line' id='84'><pre> 84: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='85'><pre> 85: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='86'><pre> 86: </pre><pre>    #</pre></div>
<div class='line' id='87'><pre> 87: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='88'><pre> 88: </pre><pre>    #   object.expects(:expected_method).once</pre></div>
<div class='line' id='89'><pre> 89: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='90'><pre> 90: </pre><pre>    #   object.expected_method # => unexpected invocation</pre></div>
<div class='line' id='91'><pre> 91: </pre><pre>    #</pre></div>
<div class='line' id='92'><pre> 92: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='93'><pre> 93: </pre><pre>    #   object.expects(:expected_method).once</pre></div>
<div class='line' id='94'><pre> 94: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='95'><pre> 95: </pre><pre>    def once</pre></div>
<div class='line' id='96'><pre> 96: </pre><pre>      @cardinality = Cardinality.exactly(1)</pre></div>
<div class='line' id='97'><pre> 97: </pre><pre>      self</pre></div>
<div class='line' id='98'><pre> 98: </pre><pre>    end</pre></div>
<div class='line' id='99'><pre> 99: </pre><pre></pre></div>
<div class='line' id='100'><pre>100: </pre><pre>    # Modifies expectation so that the expected method must never be called.</pre></div>
<div class='line' id='101'><pre>101: </pre><pre>    #</pre></div>
<div class='line' id='102'><pre>102: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='103'><pre>103: </pre><pre>    #</pre></div>
<div class='line' id='104'><pre>104: </pre><pre>    # @example Expected method must never be called.</pre></div>
<div class='line' id='105'><pre>105: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='106'><pre>106: </pre><pre>    #   object.expects(:expected_method).never</pre></div>
<div class='line' id='107'><pre>107: </pre><pre>    #   object.expected_method # => unexpected invocation</pre></div>
<div class='line' id='108'><pre>108: </pre><pre>    #</pre></div>
<div class='line' id='109'><pre>109: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='110'><pre>110: </pre><pre>    #   object.expects(:expected_method).never</pre></div>
<div class='line' id='111'><pre>111: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='112'><pre>112: </pre><pre>    def never</pre></div>
<div class='line' id='113'><pre>113: </pre><pre>      @cardinality = Cardinality.exactly(0)</pre></div>
<div class='line' id='114'><pre>114: </pre><pre>      self</pre></div>
<div class='line' id='115'><pre>115: </pre><pre>    end</pre></div>
<div class='line' id='116'><pre>116: </pre><pre></pre></div>
<div class='line' id='117'><pre>117: </pre><pre>    # Modifies expectation so that the expected method must be called at least a +minimum_number_of_times+.</pre></div>
<div class='line' id='118'><pre>118: </pre><pre>    #</pre></div>
<div class='line' id='119'><pre>119: </pre><pre>    # @param [Integer] minimum_number_of_times minimum number of expected invocations.</pre></div>
<div class='line' id='120'><pre>120: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='121'><pre>121: </pre><pre>    #</pre></div>
<div class='line' id='122'><pre>122: </pre><pre>    # @example Expected method must be called at least twice.</pre></div>
<div class='line' id='123'><pre>123: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='124'><pre>124: </pre><pre>    #   object.expects(:expected_method).at_least(2)</pre></div>
<div class='line' id='125'><pre>125: </pre><pre>    #   3.times { object.expected_method }</pre></div>
<div class='line' id='126'><pre>126: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='127'><pre>127: </pre><pre>    #</pre></div>
<div class='line' id='128'><pre>128: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='129'><pre>129: </pre><pre>    #   object.expects(:expected_method).at_least(2)</pre></div>
<div class='line' id='130'><pre>130: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='131'><pre>131: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='132'><pre>132: </pre><div class='calls'><span class='method_definition'><pre>    def at_least(minimum_number_of_times)</pre></span> <span style='display:none;'><a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a> <a href='mock.rb.html#94'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:94</a></span></div></div>
<div class='line' id='133'><pre>133: </pre><div class='calls'><span class='method_call'><pre>      @cardinality = Cardinality.at_least(minimum_number_of_times)</pre></span> <span style='display:none;'><a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a> <a href='cardinality.rb.html#13'>#<Class:Mocha::Cardinality>#at_least</a></span></div></div>
<div class='line' id='134'><pre>134: </pre><pre>      self</pre></div>
<div class='line' id='135'><pre>135: </pre><pre>    end</pre></div>
<div class='line' id='136'><pre>136: </pre><pre></pre></div>
<div class='line' id='137'><pre>137: </pre><pre>    # Modifies expectation so that the expected method must be called at least once.</pre></div>
<div class='line' id='138'><pre>138: </pre><pre>    #</pre></div>
<div class='line' id='139'><pre>139: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='140'><pre>140: </pre><pre>    #</pre></div>
<div class='line' id='141'><pre>141: </pre><pre>    # @example Expected method must be called at least once.</pre></div>
<div class='line' id='142'><pre>142: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='143'><pre>143: </pre><pre>    #   object.expects(:expected_method).at_least_once</pre></div>
<div class='line' id='144'><pre>144: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='145'><pre>145: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='146'><pre>146: </pre><pre>    #</pre></div>
<div class='line' id='147'><pre>147: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='148'><pre>148: </pre><pre>    #   object.expects(:expected_method).at_least_once</pre></div>
<div class='line' id='149'><pre>149: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='150'><pre>150: </pre><pre>    def at_least_once</pre></div>
<div class='line' id='151'><pre>151: </pre><pre>      at_least(1)</pre></div>
<div class='line' id='152'><pre>152: </pre><pre>      self</pre></div>
<div class='line' id='153'><pre>153: </pre><pre>    end</pre></div>
<div class='line' id='154'><pre>154: </pre><pre></pre></div>
<div class='line' id='155'><pre>155: </pre><pre>    # Modifies expectation so that the expected method must be called at most a +maximum_number_of_times+.</pre></div>
<div class='line' id='156'><pre>156: </pre><pre>    #</pre></div>
<div class='line' id='157'><pre>157: </pre><pre>    # @param [Integer] maximum_number_of_times maximum number of expected invocations.</pre></div>
<div class='line' id='158'><pre>158: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='159'><pre>159: </pre><pre>    #</pre></div>
<div class='line' id='160'><pre>160: </pre><pre>    # @example Expected method must be called at most twice.</pre></div>
<div class='line' id='161'><pre>161: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='162'><pre>162: </pre><pre>    #   object.expects(:expected_method).at_most(2)</pre></div>
<div class='line' id='163'><pre>163: </pre><pre>    #   2.times { object.expected_method }</pre></div>
<div class='line' id='164'><pre>164: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='165'><pre>165: </pre><pre>    #</pre></div>
<div class='line' id='166'><pre>166: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='167'><pre>167: </pre><pre>    #   object.expects(:expected_method).at_most(2)</pre></div>
<div class='line' id='168'><pre>168: </pre><pre>    #   3.times { object.expected_method } # => unexpected invocation</pre></div>
<div class='line' id='169'><pre>169: </pre><pre>    def at_most(maximum_number_of_times)</pre></div>
<div class='line' id='170'><pre>170: </pre><pre>      @cardinality = Cardinality.at_most(maximum_number_of_times)</pre></div>
<div class='line' id='171'><pre>171: </pre><pre>      self</pre></div>
<div class='line' id='172'><pre>172: </pre><pre>    end</pre></div>
<div class='line' id='173'><pre>173: </pre><pre></pre></div>
<div class='line' id='174'><pre>174: </pre><pre>    # Modifies expectation so that the expected method must be called at most once.</pre></div>
<div class='line' id='175'><pre>175: </pre><pre>    #</pre></div>
<div class='line' id='176'><pre>176: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='177'><pre>177: </pre><pre>    #</pre></div>
<div class='line' id='178'><pre>178: </pre><pre>    # @example Expected method must be called at most once.</pre></div>
<div class='line' id='179'><pre>179: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='180'><pre>180: </pre><pre>    #   object.expects(:expected_method).at_most_once</pre></div>
<div class='line' id='181'><pre>181: </pre><pre>    #   object.expected_method</pre></div>
<div class='line' id='182'><pre>182: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='183'><pre>183: </pre><pre>    #</pre></div>
<div class='line' id='184'><pre>184: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='185'><pre>185: </pre><pre>    #   object.expects(:expected_method).at_most_once</pre></div>
<div class='line' id='186'><pre>186: </pre><pre>    #   2.times { object.expected_method } # => unexpected invocation</pre></div>
<div class='line' id='187'><pre>187: </pre><pre>    def at_most_once()</pre></div>
<div class='line' id='188'><pre>188: </pre><pre>      at_most(1)</pre></div>
<div class='line' id='189'><pre>189: </pre><pre>      self</pre></div>
<div class='line' id='190'><pre>190: </pre><pre>    end</pre></div>
<div class='line' id='191'><pre>191: </pre><pre></pre></div>
<div class='line' id='192'><pre>192: </pre><pre>    # Modifies expectation so that the expected method must be called with +expected_parameters+.</pre></div>
<div class='line' id='193'><pre>193: </pre><pre>    #</pre></div>
<div class='line' id='194'><pre>194: </pre><pre>    # May be used with parameter matchers in {ParameterMatchers}.</pre></div>
<div class='line' id='195'><pre>195: </pre><pre>    #</pre></div>
<div class='line' id='196'><pre>196: </pre><pre>    # @param [*Array] expected_parameters parameters expected.</pre></div>
<div class='line' id='197'><pre>197: </pre><pre>    # @yield optional block specifying custom matching.</pre></div>
<div class='line' id='198'><pre>198: </pre><pre>    # @yieldparam [*Array] actual_parameters parameters with which expected method was invoked.</pre></div>
<div class='line' id='199'><pre>199: </pre><pre>    # @yieldreturn [Boolean] +true+ if +actual_parameters+ are acceptable.</pre></div>
<div class='line' id='200'><pre>200: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='201'><pre>201: </pre><pre>    #</pre></div>
<div class='line' id='202'><pre>202: </pre><pre>    # @example Expected method must be called with expected parameters.</pre></div>
<div class='line' id='203'><pre>203: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='204'><pre>204: </pre><pre>    #   object.expects(:expected_method).with(:param1, :param2)</pre></div>
<div class='line' id='205'><pre>205: </pre><pre>    #   object.expected_method(:param1, :param2)</pre></div>
<div class='line' id='206'><pre>206: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='207'><pre>207: </pre><pre>    #</pre></div>
<div class='line' id='208'><pre>208: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='209'><pre>209: </pre><pre>    #   object.expects(:expected_method).with(:param1, :param2)</pre></div>
<div class='line' id='210'><pre>210: </pre><pre>    #   object.expected_method(:param3)</pre></div>
<div class='line' id='211'><pre>211: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='212'><pre>212: </pre><pre>    #</pre></div>
<div class='line' id='213'><pre>213: </pre><pre>    # @example Expected method must be called with a value divisible by 4.</pre></div>
<div class='line' id='214'><pre>214: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='215'><pre>215: </pre><pre>    #   object.expects(:expected_method).with() { |value| value % 4 == 0 }</pre></div>
<div class='line' id='216'><pre>216: </pre><pre>    #   object.expected_method(16)</pre></div>
<div class='line' id='217'><pre>217: </pre><pre>    #   # => verify succeeds</pre></div>
<div class='line' id='218'><pre>218: </pre><pre>    #</pre></div>
<div class='line' id='219'><pre>219: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='220'><pre>220: </pre><pre>    #   object.expects(:expected_method).with() { |value| value % 4 == 0 }</pre></div>
<div class='line' id='221'><pre>221: </pre><pre>    #   object.expected_method(17)</pre></div>
<div class='line' id='222'><pre>222: </pre><pre>    #   # => verify fails</pre></div>
<div class='line' id='223'><pre>223: </pre><pre>    def with(*expected_parameters, &matching_block)</pre></div>
<div class='line' id='224'><pre>224: </pre><pre>      @parameters_matcher = ParametersMatcher.new(expected_parameters, &matching_block)</pre></div>
<div class='line' id='225'><pre>225: </pre><pre>      self</pre></div>
<div class='line' id='226'><pre>226: </pre><pre>    end</pre></div>
<div class='line' id='227'><pre>227: </pre><pre></pre></div>
<div class='line' id='228'><pre>228: </pre><pre>    # Modifies expectation so that when the expected method is called, it yields with the specified +parameters+.</pre></div>
<div class='line' id='229'><pre>229: </pre><pre>    #</pre></div>
<div class='line' id='230'><pre>230: </pre><pre>    # May be called multiple times on the same expectation for consecutive invocations.</pre></div>
<div class='line' id='231'><pre>231: </pre><pre>    #</pre></div>
<div class='line' id='232'><pre>232: </pre><pre>    # @param [*Array] parameters parameters to be yielded.</pre></div>
<div class='line' id='233'><pre>233: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='234'><pre>234: </pre><pre>    # @see #then</pre></div>
<div class='line' id='235'><pre>235: </pre><pre>    #</pre></div>
<div class='line' id='236'><pre>236: </pre><pre>    # @example Yield parameters when expected method is invoked.</pre></div>
<div class='line' id='237'><pre>237: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='238'><pre>238: </pre><pre>    #   object.expects(:expected_method).yields('result')</pre></div>
<div class='line' id='239'><pre>239: </pre><pre>    #   yielded_value = nil</pre></div>
<div class='line' id='240'><pre>240: </pre><pre>    #   object.expected_method { |value| yielded_value = value }</pre></div>
<div class='line' id='241'><pre>241: </pre><pre>    #   yielded_value # => 'result'</pre></div>
<div class='line' id='242'><pre>242: </pre><pre>    #</pre></div>
<div class='line' id='243'><pre>243: </pre><pre>    # @example Yield different parameters on different invocations of the expected method.</pre></div>
<div class='line' id='244'><pre>244: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='245'><pre>245: </pre><pre>    #   object.stubs(:expected_method).yields(1).then.yields(2)</pre></div>
<div class='line' id='246'><pre>246: </pre><pre>    #   yielded_values_from_first_invocation = []</pre></div>
<div class='line' id='247'><pre>247: </pre><pre>    #   yielded_values_from_second_invocation = []</pre></div>
<div class='line' id='248'><pre>248: </pre><pre>    #   object.expected_method { |value| yielded_values_from_first_invocation << value } # first invocation</pre></div>
<div class='line' id='249'><pre>249: </pre><pre>    #   object.expected_method { |value| yielded_values_from_second_invocation << value } # second invocation</pre></div>
<div class='line' id='250'><pre>250: </pre><pre>    #   yielded_values_from_first_invocation # => [1]</pre></div>
<div class='line' id='251'><pre>251: </pre><pre>    #   yielded_values_from_second_invocation # => [2]</pre></div>
<div class='line' id='252'><pre>252: </pre><pre>    def yields(*parameters)</pre></div>
<div class='line' id='253'><pre>253: </pre><pre>      @yield_parameters.add(*parameters)</pre></div>
<div class='line' id='254'><pre>254: </pre><pre>      self</pre></div>
<div class='line' id='255'><pre>255: </pre><pre>    end</pre></div>
<div class='line' id='256'><pre>256: </pre><pre></pre></div>
<div class='line' id='257'><pre>257: </pre><pre>    # Modifies expectation so that when the expected method is called, it yields multiple times per invocation with the specified +parameter_groups+.</pre></div>
<div class='line' id='258'><pre>258: </pre><pre>    #</pre></div>
<div class='line' id='259'><pre>259: </pre><pre>    # @param [*Array<Array>] parameter_groups each element of +parameter_groups+ should iself be an +Array+ representing the parameters to be passed to the block for a single yield.</pre></div>
<div class='line' id='260'><pre>260: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='261'><pre>261: </pre><pre>    # @see #then</pre></div>
<div class='line' id='262'><pre>262: </pre><pre>    #</pre></div>
<div class='line' id='263'><pre>263: </pre><pre>    # @example When the +expected_method+ is called, the stub will invoke the block twice, the first time it passes +'result_1'+, +'result_2'+ as the parameters, and the second time it passes 'result_3' as the parameters.</pre></div>
<div class='line' id='264'><pre>264: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='265'><pre>265: </pre><pre>    #   object.expects(:expected_method).multiple_yields(['result_1', 'result_2'], ['result_3'])</pre></div>
<div class='line' id='266'><pre>266: </pre><pre>    #   yielded_values = []</pre></div>
<div class='line' id='267'><pre>267: </pre><pre>    #   object.expected_method { |*values| yielded_values << values }</pre></div>
<div class='line' id='268'><pre>268: </pre><pre>    #   yielded_values # => [['result_1', 'result_2'], ['result_3]]</pre></div>
<div class='line' id='269'><pre>269: </pre><pre>    #</pre></div>
<div class='line' id='270'><pre>270: </pre><pre>    # @example Yield different groups of parameters on different invocations of the expected method.</pre></div>
<div class='line' id='271'><pre>271: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='272'><pre>272: </pre><pre>    #   object.stubs(:expected_method).multiple_yields([1, 2], [3]).then.multiple_yields([4], [5, 6])</pre></div>
<div class='line' id='273'><pre>273: </pre><pre>    #   yielded_values_from_first_invocation = []</pre></div>
<div class='line' id='274'><pre>274: </pre><pre>    #   yielded_values_from_second_invocation = []</pre></div>
<div class='line' id='275'><pre>275: </pre><pre>    #   object.expected_method { |*values| yielded_values_from_first_invocation << values } # first invocation</pre></div>
<div class='line' id='276'><pre>276: </pre><pre>    #   object.expected_method { |*values| yielded_values_from_second_invocation << values } # second invocation</pre></div>
<div class='line' id='277'><pre>277: </pre><pre>    #   yielded_values_from_first_invocation # => [[1, 2], [3]]</pre></div>
<div class='line' id='278'><pre>278: </pre><pre>    #   yielded_values_from_second_invocation # => [[4], [5, 6]]</pre></div>
<div class='line' id='279'><pre>279: </pre><pre>    def multiple_yields(*parameter_groups)</pre></div>
<div class='line' id='280'><pre>280: </pre><pre>      @yield_parameters.multiple_add(*parameter_groups)</pre></div>
<div class='line' id='281'><pre>281: </pre><pre>      self</pre></div>
<div class='line' id='282'><pre>282: </pre><pre>    end</pre></div>
<div class='line' id='283'><pre>283: </pre><pre></pre></div>
<div class='line' id='284'><pre>284: </pre><pre>    # Modifies expectation so that when the expected method is called, it returns the specified +value+.</pre></div>
<div class='line' id='285'><pre>285: </pre><pre>    #</pre></div>
<div class='line' id='286'><pre>286: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='287'><pre>287: </pre><pre>    # @see #then</pre></div>
<div class='line' id='288'><pre>288: </pre><pre>    #</pre></div>
<div class='line' id='289'><pre>289: </pre><pre>    # @overload def returns(value)</pre></div>
<div class='line' id='290'><pre>290: </pre><pre>    #   @param [Object] value value to return on invocation of expected method.</pre></div>
<div class='line' id='291'><pre>291: </pre><pre>    # @overload def returns(*values)</pre></div>
<div class='line' id='292'><pre>292: </pre><pre>    #   @param [*Array] values values to return on consecutive invocations of expected method.</pre></div>
<div class='line' id='293'><pre>293: </pre><pre>    #</pre></div>
<div class='line' id='294'><pre>294: </pre><pre>    # @example Return the same value on every invocation.</pre></div>
<div class='line' id='295'><pre>295: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='296'><pre>296: </pre><pre>    #   object.stubs(:stubbed_method).returns('result')</pre></div>
<div class='line' id='297'><pre>297: </pre><pre>    #   object.stubbed_method # => 'result'</pre></div>
<div class='line' id='298'><pre>298: </pre><pre>    #   object.stubbed_method # => 'result'</pre></div>
<div class='line' id='299'><pre>299: </pre><pre>    #</pre></div>
<div class='line' id='300'><pre>300: </pre><pre>    # @example Return a different value on consecutive invocations.</pre></div>
<div class='line' id='301'><pre>301: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='302'><pre>302: </pre><pre>    #   object.stubs(:stubbed_method).returns(1, 2)</pre></div>
<div class='line' id='303'><pre>303: </pre><pre>    #   object.stubbed_method # => 1</pre></div>
<div class='line' id='304'><pre>304: </pre><pre>    #   object.stubbed_method # => 2</pre></div>
<div class='line' id='305'><pre>305: </pre><pre>    #</pre></div>
<div class='line' id='306'><pre>306: </pre><pre>    # @example Alternative way to return a different value on consecutive invocations.</pre></div>
<div class='line' id='307'><pre>307: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='308'><pre>308: </pre><pre>    #   object.stubs(:expected_method).returns(1, 2).then.returns(3)</pre></div>
<div class='line' id='309'><pre>309: </pre><pre>    #   object.expected_method # => 1</pre></div>
<div class='line' id='310'><pre>310: </pre><pre>    #   object.expected_method # => 2</pre></div>
<div class='line' id='311'><pre>311: </pre><pre>    #   object.expected_method # => 3</pre></div>
<div class='line' id='312'><pre>312: </pre><pre>    #</pre></div>
<div class='line' id='313'><pre>313: </pre><pre>    # @example May be called in conjunction with {#raises} on the same expectation.</pre></div>
<div class='line' id='314'><pre>314: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='315'><pre>315: </pre><pre>    #   object.stubs(:expected_method).returns(1, 2).then.raises(Exception)</pre></div>
<div class='line' id='316'><pre>316: </pre><pre>    #   object.expected_method # => 1</pre></div>
<div class='line' id='317'><pre>317: </pre><pre>    #   object.expected_method # => 2</pre></div>
<div class='line' id='318'><pre>318: </pre><pre>    #   object.expected_method # => raises exception of class Exception1</pre></div>
<div class='line' id='319'><pre>319: </pre><pre>    #</pre></div>
<div class='line' id='320'><pre>320: </pre><pre>    # @example Note that in Ruby a method returning multiple values is exactly equivalent to a method returning an +Array+ of those values.</pre></div>
<div class='line' id='321'><pre>321: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='322'><pre>322: </pre><pre>    #   object.stubs(:expected_method).returns([1, 2])</pre></div>
<div class='line' id='323'><pre>323: </pre><pre>    #   x, y = object.expected_method</pre></div>
<div class='line' id='324'><pre>324: </pre><pre>    #   x # => 1</pre></div>
<div class='line' id='325'><pre>325: </pre><pre>    #   y # => 2</pre></div>
<div class='line' id='326'><pre>326: </pre><div class='calls'><span class='method_definition'><pre>    def returns(*values)</pre></span> <span style='display:none;'><a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#5'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:5</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb.html#20'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/installer_representation_spec.rb:20</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a> <a href='../../../../../../../../../../../Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb.html#28'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/spec_helper/pre_flight.rb:28</a></span></div></div>
<div class='line' id='327'><pre>327: </pre><div class='calls'><span class='method_call'><pre>      @return_values += ReturnValues.build(*values)</pre></span> <span style='display:none;'><a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a> <a href='return_values.rb.html#7'>#<Class:Mocha::ReturnValues>#build</a> <a href='return_values.rb.html#25'>Mocha::ReturnValues#+</a></span></div></div>
<div class='line' id='328'><pre>328: </pre><pre>      self</pre></div>
<div class='line' id='329'><pre>329: </pre><pre>    end</pre></div>
<div class='line' id='330'><pre>330: </pre><pre></pre></div>
<div class='line' id='331'><pre>331: </pre><pre>    # Modifies expectation so that when the expected method is called, it raises the specified +exception+ with the specified +message+ i.e. calls +Kernel#raise(exception, message)+.</pre></div>
<div class='line' id='332'><pre>332: </pre><pre>    #</pre></div>
<div class='line' id='333'><pre>333: </pre><pre>    # @param [Class,Exception,String,#exception] exception exception to be raised or message to be passed to RuntimeError.</pre></div>
<div class='line' id='334'><pre>334: </pre><pre>    # @param [String] message exception message.</pre></div>
<div class='line' id='335'><pre>335: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='336'><pre>336: </pre><pre>    #</pre></div>
<div class='line' id='337'><pre>337: </pre><pre>    # @see Kernel#raise</pre></div>
<div class='line' id='338'><pre>338: </pre><pre>    # @see #then</pre></div>
<div class='line' id='339'><pre>339: </pre><pre>    #</pre></div>
<div class='line' id='340'><pre>340: </pre><pre>    # @overload def raises</pre></div>
<div class='line' id='341'><pre>341: </pre><pre>    # @overload def raises(exception)</pre></div>
<div class='line' id='342'><pre>342: </pre><pre>    # @overload def raises(exception, message)</pre></div>
<div class='line' id='343'><pre>343: </pre><pre>    #</pre></div>
<div class='line' id='344'><pre>344: </pre><pre>    # @example Raise specified exception if expected method is invoked.</pre></div>
<div class='line' id='345'><pre>345: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='346'><pre>346: </pre><pre>    #   object.stubs(:expected_method).raises(Exception, 'message')</pre></div>
<div class='line' id='347'><pre>347: </pre><pre>    #   object.expected_method # => raises exception of class Exception and with message 'message'</pre></div>
<div class='line' id='348'><pre>348: </pre><pre>    #</pre></div>
<div class='line' id='349'><pre>349: </pre><pre>    # @example Raise custom exception with extra constructor parameters by passing in an instance of the exception.</pre></div>
<div class='line' id='350'><pre>350: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='351'><pre>351: </pre><pre>    #   object.stubs(:expected_method).raises(MyException.new('message', 1, 2, 3))</pre></div>
<div class='line' id='352'><pre>352: </pre><pre>    #   object.expected_method # => raises the specified instance of MyException</pre></div>
<div class='line' id='353'><pre>353: </pre><pre>    #</pre></div>
<div class='line' id='354'><pre>354: </pre><pre>    # @example Raise different exceptions on consecutive invocations of the expected method.</pre></div>
<div class='line' id='355'><pre>355: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='356'><pre>356: </pre><pre>    #   object.stubs(:expected_method).raises(Exception1).then.raises(Exception2)</pre></div>
<div class='line' id='357'><pre>357: </pre><pre>    #   object.expected_method # => raises exception of class Exception1</pre></div>
<div class='line' id='358'><pre>358: </pre><pre>    #   object.expected_method # => raises exception of class Exception2</pre></div>
<div class='line' id='359'><pre>359: </pre><pre>    #</pre></div>
<div class='line' id='360'><pre>360: </pre><pre>    # @example Raise an exception on first invocation of expected method and then return values on subsequent invocations.</pre></div>
<div class='line' id='361'><pre>361: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='362'><pre>362: </pre><pre>    #   object.stubs(:expected_method).raises(Exception).then.returns(2, 3)</pre></div>
<div class='line' id='363'><pre>363: </pre><pre>    #   object.expected_method # => raises exception of class Exception1</pre></div>
<div class='line' id='364'><pre>364: </pre><pre>    #   object.expected_method # => 2</pre></div>
<div class='line' id='365'><pre>365: </pre><pre>    #   object.expected_method # => 3</pre></div>
<div class='line' id='366'><pre>366: </pre><pre>    def raises(exception = RuntimeError, message = nil)</pre></div>
<div class='line' id='367'><pre>367: </pre><pre>      @return_values += ReturnValues.new(ExceptionRaiser.new(exception, message))</pre></div>
<div class='line' id='368'><pre>368: </pre><pre>      self</pre></div>
<div class='line' id='369'><pre>369: </pre><pre>    end</pre></div>
<div class='line' id='370'><pre>370: </pre><pre></pre></div>
<div class='line' id='371'><pre>371: </pre><pre>    # Modifies expectation so that when the expected method is called, it throws the specified +tag+ with the specific return value +object+ i.e. calls +Kernel#throw(tag, object)+.</pre></div>
<div class='line' id='372'><pre>372: </pre><pre>    #</pre></div>
<div class='line' id='373'><pre>373: </pre><pre>    # @param [Symbol,String] tag tag to throw to transfer control to the active catch block.</pre></div>
<div class='line' id='374'><pre>374: </pre><pre>    # @param [Object] object return value for the catch block.</pre></div>
<div class='line' id='375'><pre>375: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='376'><pre>376: </pre><pre>    #</pre></div>
<div class='line' id='377'><pre>377: </pre><pre>    # @see Kernel#throw</pre></div>
<div class='line' id='378'><pre>378: </pre><pre>    # @see #then</pre></div>
<div class='line' id='379'><pre>379: </pre><pre>    #</pre></div>
<div class='line' id='380'><pre>380: </pre><pre>    # @overload def throw(tag)</pre></div>
<div class='line' id='381'><pre>381: </pre><pre>    # @overload def throw(tag, object)</pre></div>
<div class='line' id='382'><pre>382: </pre><pre>    #</pre></div>
<div class='line' id='383'><pre>383: </pre><pre>    # @example Throw tag when expected method is invoked.</pre></div>
<div class='line' id='384'><pre>384: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='385'><pre>385: </pre><pre>    #   object.stubs(:expected_method).throws(:done)</pre></div>
<div class='line' id='386'><pre>386: </pre><pre>    #   object.expected_method # => throws tag :done</pre></div>
<div class='line' id='387'><pre>387: </pre><pre>    #</pre></div>
<div class='line' id='388'><pre>388: </pre><pre>    # @example Throw tag with return value +object+ c.f. +Kernel#throw+.</pre></div>
<div class='line' id='389'><pre>389: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='390'><pre>390: </pre><pre>    #   object.stubs(:expected_method).throws(:done, 'result')</pre></div>
<div class='line' id='391'><pre>391: </pre><pre>    #   object.expected_method # => throws tag :done and causes catch block to return 'result'</pre></div>
<div class='line' id='392'><pre>392: </pre><pre>    #</pre></div>
<div class='line' id='393'><pre>393: </pre><pre>    # @example Throw different tags on consecutive invocations of the expected method.</pre></div>
<div class='line' id='394'><pre>394: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='395'><pre>395: </pre><pre>    #   object.stubs(:expected_method).throws(:done).then.throws(:continue)</pre></div>
<div class='line' id='396'><pre>396: </pre><pre>    #   object.expected_method # => throws :done</pre></div>
<div class='line' id='397'><pre>397: </pre><pre>    #   object.expected_method # => throws :continue</pre></div>
<div class='line' id='398'><pre>398: </pre><pre>    #</pre></div>
<div class='line' id='399'><pre>399: </pre><pre>    # @example Throw tag on first invocation of expected method and then return values for subsequent invocations.</pre></div>
<div class='line' id='400'><pre>400: </pre><pre>    #   object = stub()</pre></div>
<div class='line' id='401'><pre>401: </pre><pre>    #   object.stubs(:expected_method).throws(:done).then.returns(2, 3)</pre></div>
<div class='line' id='402'><pre>402: </pre><pre>    #   object.expected_method # => throws :done</pre></div>
<div class='line' id='403'><pre>403: </pre><pre>    #   object.expected_method # => 2</pre></div>
<div class='line' id='404'><pre>404: </pre><pre>    #   object.expected_method # => 3</pre></div>
<div class='line' id='405'><pre>405: </pre><pre>    def throws(tag, object = nil)</pre></div>
<div class='line' id='406'><pre>406: </pre><pre>      @return_values += ReturnValues.new(Thrower.new(tag, object))</pre></div>
<div class='line' id='407'><pre>407: </pre><pre>      self</pre></div>
<div class='line' id='408'><pre>408: </pre><pre>    end</pre></div>
<div class='line' id='409'><pre>409: </pre><pre></pre></div>
<div class='line' id='410'><pre>410: </pre><pre>    # @overload def then</pre></div>
<div class='line' id='411'><pre>411: </pre><pre>    #   Used as syntactic sugar to improve readability. It has no effect on state of the expectation.</pre></div>
<div class='line' id='412'><pre>412: </pre><pre>    # @overload def then(state_machine.is(state_name))</pre></div>
<div class='line' id='413'><pre>413: </pre><pre>    #   Used to change the +state_machine+ to the state specified by +state_name+ when the expected invocation occurs.</pre></div>
<div class='line' id='414'><pre>414: </pre><pre>    #   @param [StateMachine::State] state_machine.is(state_name) provides a mechanism to change the +state_machine+ into the state specified by +state_name+ when the expected method is invoked.</pre></div>
<div class='line' id='415'><pre>415: </pre><pre>    #</pre></div>
<div class='line' id='416'><pre>416: </pre><pre>    #   @see API#states</pre></div>
<div class='line' id='417'><pre>417: </pre><pre>    #   @see StateMachine</pre></div>
<div class='line' id='418'><pre>418: </pre><pre>    #   @see #when</pre></div>
<div class='line' id='419'><pre>419: </pre><pre>    #</pre></div>
<div class='line' id='420'><pre>420: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='421'><pre>421: </pre><pre>    #</pre></div>
<div class='line' id='422'><pre>422: </pre><pre>    # @example Using {#then} as syntactic sugar when specifying values to be returned and exceptions to be raised on consecutive invocations of the expected method.</pre></div>
<div class='line' id='423'><pre>423: </pre><pre>    #   object = mock()</pre></div>
<div class='line' id='424'><pre>424: </pre><pre>    #   object.stubs(:expected_method).returns(1, 2).then.raises(Exception).then.returns(4)</pre></div>
<div class='line' id='425'><pre>425: </pre><pre>    #   object.expected_method # => 1</pre></div>
<div class='line' id='426'><pre>426: </pre><pre>    #   object.expected_method # => 2</pre></div>
<div class='line' id='427'><pre>427: </pre><pre>    #   object.expected_method # => raises exception of class Exception</pre></div>
<div class='line' id='428'><pre>428: </pre><pre>    #   object.expected_method # => 4</pre></div>
<div class='line' id='429'><pre>429: </pre><pre>    #</pre></div>
<div class='line' id='430'><pre>430: </pre><pre>    # @example Using {#then} to change the +state+ of a +state_machine+ on the invocation of an expected method.</pre></div>
<div class='line' id='431'><pre>431: </pre><pre>    #   power = states('power').starts_as('off')</pre></div>
<div class='line' id='432'><pre>432: </pre><pre>    #</pre></div>
<div class='line' id='433'><pre>433: </pre><pre>    #   radio = mock('radio')</pre></div>
<div class='line' id='434'><pre>434: </pre><pre>    #   radio.expects(:switch_on).then(power.is('on'))</pre></div>
<div class='line' id='435'><pre>435: </pre><pre>    #   radio.expects(:select_channel).with('BBC Radio 4').when(power.is('on'))</pre></div>
<div class='line' id='436'><pre>436: </pre><pre>    #   radio.expects(:adjust_volume).with(+5).when(power.is('on'))</pre></div>
<div class='line' id='437'><pre>437: </pre><pre>    #   radio.expects(:select_channel).with('BBC World Service').when(power.is('on'))</pre></div>
<div class='line' id='438'><pre>438: </pre><pre>    #   radio.expects(:adjust_volume).with(-5).when(power.is('on'))</pre></div>
<div class='line' id='439'><pre>439: </pre><pre>    #   radio.expects(:switch_off).then(power.is('off'))</pre></div>
<div class='line' id='440'><pre>440: </pre><pre>    def then(*parameters)</pre></div>
<div class='line' id='441'><pre>441: </pre><pre>      if parameters.length == 1</pre></div>
<div class='line' id='442'><pre>442: </pre><pre>        state = parameters.first</pre></div>
<div class='line' id='443'><pre>443: </pre><pre>        add_side_effect(ChangeStateSideEffect.new(state))</pre></div>
<div class='line' id='444'><pre>444: </pre><pre>      end</pre></div>
<div class='line' id='445'><pre>445: </pre><pre>      self</pre></div>
<div class='line' id='446'><pre>446: </pre><pre>    end</pre></div>
<div class='line' id='447'><pre>447: </pre><pre></pre></div>
<div class='line' id='448'><pre>448: </pre><pre>    # Constrains the expectation to occur only when the +state_machine+ is in the state specified by +state_name+.</pre></div>
<div class='line' id='449'><pre>449: </pre><pre>    #</pre></div>
<div class='line' id='450'><pre>450: </pre><pre>    # @param [StateMachine::StatePredicate] state_machine.is(state_name) provides a mechanism to determine whether the +state_machine+ is in the state specified by +state_name+ when the expected method is invoked.</pre></div>
<div class='line' id='451'><pre>451: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='452'><pre>452: </pre><pre>    #</pre></div>
<div class='line' id='453'><pre>453: </pre><pre>    # @see API#states</pre></div>
<div class='line' id='454'><pre>454: </pre><pre>    # @see StateMachine</pre></div>
<div class='line' id='455'><pre>455: </pre><pre>    # @see #then</pre></div>
<div class='line' id='456'><pre>456: </pre><pre>    #</pre></div>
<div class='line' id='457'><pre>457: </pre><pre>    # @example Using {#when} to only allow invocation of methods when "power" state machine is in the "on" state.</pre></div>
<div class='line' id='458'><pre>458: </pre><pre>    #   power = states('power').starts_as('off')</pre></div>
<div class='line' id='459'><pre>459: </pre><pre>    #</pre></div>
<div class='line' id='460'><pre>460: </pre><pre>    #   radio = mock('radio')</pre></div>
<div class='line' id='461'><pre>461: </pre><pre>    #   radio.expects(:switch_on).then(power.is('on'))</pre></div>
<div class='line' id='462'><pre>462: </pre><pre>    #   radio.expects(:select_channel).with('BBC Radio 4').when(power.is('on'))</pre></div>
<div class='line' id='463'><pre>463: </pre><pre>    #   radio.expects(:adjust_volume).with(+5).when(power.is('on'))</pre></div>
<div class='line' id='464'><pre>464: </pre><pre>    #   radio.expects(:select_channel).with('BBC World Service').when(power.is('on'))</pre></div>
<div class='line' id='465'><pre>465: </pre><pre>    #   radio.expects(:adjust_volume).with(-5).when(power.is('on'))</pre></div>
<div class='line' id='466'><pre>466: </pre><pre>    #   radio.expects(:switch_off).then(power.is('off'))</pre></div>
<div class='line' id='467'><pre>467: </pre><pre>    def when(state_predicate)</pre></div>
<div class='line' id='468'><pre>468: </pre><pre>      add_ordering_constraint(InStateOrderingConstraint.new(state_predicate))</pre></div>
<div class='line' id='469'><pre>469: </pre><pre>      self</pre></div>
<div class='line' id='470'><pre>470: </pre><pre>    end</pre></div>
<div class='line' id='471'><pre>471: </pre><pre></pre></div>
<div class='line' id='472'><pre>472: </pre><pre>    # Constrains the expectation so that it must be invoked at the current point in the +sequence+.</pre></div>
<div class='line' id='473'><pre>473: </pre><pre>    #</pre></div>
<div class='line' id='474'><pre>474: </pre><pre>    # To expect a sequence of invocations, write the expectations in order and add the +in_sequence(sequence)+ clause to each one.</pre></div>
<div class='line' id='475'><pre>475: </pre><pre>    #</pre></div>
<div class='line' id='476'><pre>476: </pre><pre>    # Expectations in a +sequence+ can have any invocation count.</pre></div>
<div class='line' id='477'><pre>477: </pre><pre>    #</pre></div>
<div class='line' id='478'><pre>478: </pre><pre>    # If an expectation in a sequence is stubbed, rather than expected, it can be skipped in the +sequence+.</pre></div>
<div class='line' id='479'><pre>479: </pre><pre>    #</pre></div>
<div class='line' id='480'><pre>480: </pre><pre>    # An expected method can appear in multiple sequences.</pre></div>
<div class='line' id='481'><pre>481: </pre><pre>    #</pre></div>
<div class='line' id='482'><pre>482: </pre><pre>    # @param [*Array<Sequence>] sequences sequences in which expected method should appear.</pre></div>
<div class='line' id='483'><pre>483: </pre><pre>    # @return [Expectation] the same expectation, thereby allowing invocations of other {Expectation} methods to be chained.</pre></div>
<div class='line' id='484'><pre>484: </pre><pre>    #</pre></div>
<div class='line' id='485'><pre>485: </pre><pre>    # @see API#sequence</pre></div>
<div class='line' id='486'><pre>486: </pre><pre>    #</pre></div>
<div class='line' id='487'><pre>487: </pre><pre>    # @example Ensure methods are invoked in a specified order.</pre></div>
<div class='line' id='488'><pre>488: </pre><pre>    #   breakfast = sequence('breakfast')</pre></div>
<div class='line' id='489'><pre>489: </pre><pre>    #</pre></div>
<div class='line' id='490'><pre>490: </pre><pre>    #   egg = mock('egg')</pre></div>
<div class='line' id='491'><pre>491: </pre><pre>    #   egg.expects(:crack).in_sequence(breakfast)</pre></div>
<div class='line' id='492'><pre>492: </pre><pre>    #   egg.expects(:fry).in_sequence(breakfast)</pre></div>
<div class='line' id='493'><pre>493: </pre><pre>    #   egg.expects(:eat).in_sequence(breakfast)</pre></div>
<div class='line' id='494'><pre>494: </pre><pre>    def in_sequence(*sequences)</pre></div>
<div class='line' id='495'><pre>495: </pre><pre>      sequences.each { |sequence| add_in_sequence_ordering_constraint(sequence) }</pre></div>
<div class='line' id='496'><pre>496: </pre><pre>      self</pre></div>
<div class='line' id='497'><pre>497: </pre><pre>    end</pre></div>
<div class='line' id='498'><pre>498: </pre><pre></pre></div>
<div class='line' id='499'><pre>499: </pre><pre>    # @private</pre></div>
<div class='line' id='500'><pre>500: </pre><pre>    attr_reader :backtrace</pre></div>
<div class='line' id='501'><pre>501: </pre><pre></pre></div>
<div class='line' id='502'><pre>502: </pre><pre>    # @private</pre></div>
<div class='line' id='503'><pre>503: </pre><div class='calls'><span class='method_definition'><pre>    def initialize(mock, expected_method_name, backtrace = nil)</pre></span> <span style='display:none;'><a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#57'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:57</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a> <a href='mock.rb.html#93'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:93</a></span></div></div>
<div class='line' id='504'><pre>504: </pre><pre>      @mock = mock</pre></div>
<div class='line' id='505'><pre>505: </pre><div class='calls'><span class='method_call'><pre>      @method_matcher = MethodMatcher.new(expected_method_name.to_sym)</pre></span> <span style='display:none;'><a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a> <a href='method_matcher.rb.html#7'>Mocha::MethodMatcher#initialize</a></span></div></div>
<div class='line' id='506'><pre>506: </pre><div class='calls'><span class='method_call'><pre>      @parameters_matcher = ParametersMatcher.new</pre></span> <span style='display:none;'><a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a> <a href='parameters_matcher.rb.html#8'>Mocha::ParametersMatcher#initialize</a></span></div></div>
<div class='line' id='507'><pre>507: </pre><pre>      @ordering_constraints = []</pre></div>
<div class='line' id='508'><pre>508: </pre><pre>      @side_effects = []</pre></div>
<div class='line' id='509'><pre>509: </pre><div class='calls'><span class='method_call'><pre>      @cardinality, @invocation_count = Cardinality.exactly(1), 0</pre></span> <span style='display:none;'><a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a> <a href='cardinality.rb.html#9'>#<Class:Mocha::Cardinality>#exactly</a></span></div></div>
<div class='line' id='510'><pre>510: </pre><div class='calls'><span class='method_call'><pre>      @return_values = ReturnValues.new</pre></span> <span style='display:none;'><a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a> <a href='return_values.rb.html#13'>Mocha::ReturnValues#initialize</a></span></div></div>
<div class='line' id='511'><pre>511: </pre><div class='calls'><span class='method_call'><pre>      @yield_parameters = YieldParameters.new</pre></span> <span style='display:none;'><a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a> <a href='yield_parameters.rb.html#9'>Mocha::YieldParameters#initialize</a></span></div></div>
<div class='line' id='512'><pre>512: </pre><pre>      @backtrace = backtrace || caller</pre></div>
<div class='line' id='513'><pre>513: </pre><pre>    end</pre></div>
<div class='line' id='514'><pre>514: </pre><pre></pre></div>
<div class='line' id='515'><pre>515: </pre><pre>    # @private</pre></div>
<div class='line' id='516'><pre>516: </pre><pre>    def add_ordering_constraint(ordering_constraint)</pre></div>
<div class='line' id='517'><pre>517: </pre><pre>      @ordering_constraints << ordering_constraint</pre></div>
<div class='line' id='518'><pre>518: </pre><pre>    end</pre></div>
<div class='line' id='519'><pre>519: </pre><pre></pre></div>
<div class='line' id='520'><pre>520: </pre><pre>    # @private</pre></div>
<div class='line' id='521'><pre>521: </pre><pre>    def add_in_sequence_ordering_constraint(sequence)</pre></div>
<div class='line' id='522'><pre>522: </pre><pre>      sequence.constrain_as_next_in_sequence(self)</pre></div>
<div class='line' id='523'><pre>523: </pre><pre>    end</pre></div>
<div class='line' id='524'><pre>524: </pre><pre></pre></div>
<div class='line' id='525'><pre>525: </pre><pre>    # @private</pre></div>
<div class='line' id='526'><pre>526: </pre><pre>    def add_side_effect(side_effect)</pre></div>
<div class='line' id='527'><pre>527: </pre><pre>      @side_effects << side_effect</pre></div>
<div class='line' id='528'><pre>528: </pre><pre>    end</pre></div>
<div class='line' id='529'><pre>529: </pre><pre></pre></div>
<div class='line' id='530'><pre>530: </pre><pre>    # @private</pre></div>
<div class='line' id='531'><pre>531: </pre><div class='calls'><span class='method_definition'><pre>    def perform_side_effects</pre></span> <span style='display:none;'><a href='expectation.rb.html#563'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation.rb:563</a></span></div></div>
<div class='line' id='532'><pre>532: </pre><pre>      @side_effects.each { |side_effect| side_effect.perform }</pre></div>
<div class='line' id='533'><pre>533: </pre><pre>    end</pre></div>
<div class='line' id='534'><pre>534: </pre><pre></pre></div>
<div class='line' id='535'><pre>535: </pre><pre>    # @private</pre></div>
<div class='line' id='536'><pre>536: </pre><div class='calls'><span class='method_definition'><pre>    def in_correct_order?</pre></span> <span style='display:none;'><a href='expectation.rb.html#547'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation.rb:547</a></span></div></div>
<div class='line' id='537'><pre>537: </pre><pre>      @ordering_constraints.all? { |ordering_constraint| ordering_constraint.allows_invocation_now? }</pre></div>
<div class='line' id='538'><pre>538: </pre><pre>    end</pre></div>
<div class='line' id='539'><pre>539: </pre><pre></pre></div>
<div class='line' id='540'><pre>540: </pre><pre>    # @private</pre></div>
<div class='line' id='541'><pre>541: </pre><div class='calls'><span class='method_definition'><pre>    def matches_method?(method_name)</pre></span> <span style='display:none;'><a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a> <a href='expectation_list.rb.html#15'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:15</a></span></div></div>
<div class='line' id='542'><pre>542: </pre><div class='calls'><span class='method_call'><pre>      @method_matcher.match?(method_name)</pre></span> <span style='display:none;'><a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a></span></div></div>
<div class='line' id='543'><pre>543: </pre><pre>    end</pre></div>
<div class='line' id='544'><pre>544: </pre><pre></pre></div>
<div class='line' id='545'><pre>545: </pre><pre>    # @private</pre></div>
<div class='line' id='546'><pre>546: </pre><div class='calls'><span class='method_definition'><pre>    def match?(actual_method_name, *actual_parameters)</pre></span> <span style='display:none;'><a href='expectation_list.rb.html#53'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:53</a> <a href='expectation_list.rb.html#53'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:53</a></span></div></div>
<div class='line' id='547'><pre>547: </pre><div class='calls'><span class='method_call'><pre>      @method_matcher.match?(actual_method_name) && @parameters_matcher.match?(actual_parameters) && in_correct_order?</pre></span> <span style='display:none;'><a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a> <a href='parameters_matcher.rb.html#12'>Mocha::ParametersMatcher#match?</a> <a href='expectation.rb.html#536'>Mocha::Expectation#in_correct_order?</a> <a href='method_matcher.rb.html#11'>Mocha::MethodMatcher#match?</a></span></div></div>
<div class='line' id='548'><pre>548: </pre><pre>    end</pre></div>
<div class='line' id='549'><pre>549: </pre><pre></pre></div>
<div class='line' id='550'><pre>550: </pre><pre>    # @private</pre></div>
<div class='line' id='551'><pre>551: </pre><div class='calls'><span class='method_definition'><pre>    def invocations_allowed?</pre></span> <span style='display:none;'><a href='expectation_list.rb.html#27'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:27</a></span></div></div>
<div class='line' id='552'><pre>552: </pre><div class='calls'><span class='method_call'><pre>      @cardinality.invocations_allowed?(@invocation_count)</pre></span> <span style='display:none;'><a href='cardinality.rb.html#34'>Mocha::Cardinality#invocations_allowed?</a></span></div></div>
<div class='line' id='553'><pre>553: </pre><pre>    end</pre></div>
<div class='line' id='554'><pre>554: </pre><pre></pre></div>
<div class='line' id='555'><pre>555: </pre><pre>    # @private</pre></div>
<div class='line' id='556'><pre>556: </pre><pre>    def satisfied?</pre></div>
<div class='line' id='557'><pre>557: </pre><pre>      @cardinality.satisfied?(@invocation_count)</pre></div>
<div class='line' id='558'><pre>558: </pre><pre>    end</pre></div>
<div class='line' id='559'><pre>559: </pre><pre></pre></div>
<div class='line' id='560'><pre>560: </pre><pre>    # @private</pre></div>
<div class='line' id='561'><pre>561: </pre><div class='calls'><span class='method_definition'><pre>    def invoke</pre></span> <span style='display:none;'><a href='mock.rb.html#232'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/mock.rb:232</a></span></div></div>
<div class='line' id='562'><pre>562: </pre><pre>      @invocation_count += 1</pre></div>
<div class='line' id='563'><pre>563: </pre><div class='calls'><span class='method_call'><pre>      perform_side_effects()</pre></span> <span style='display:none;'><a href='expectation.rb.html#531'>Mocha::Expectation#perform_side_effects</a></span></div></div>
<div class='line' id='564'><pre>564: </pre><pre>      if block_given? then</pre></div>
<div class='line' id='565'><pre>565: </pre><pre>        @yield_parameters.next_invocation.each do |yield_parameters|</pre></div>
<div class='line' id='566'><pre>566: </pre><pre>          yield(*yield_parameters)</pre></div>
<div class='line' id='567'><pre>567: </pre><pre>        end</pre></div>
<div class='line' id='568'><pre>568: </pre><pre>      end</pre></div>
<div class='line' id='569'><pre>569: </pre><div class='calls'><span class='method_call'><pre>      @return_values.next</pre></span> <span style='display:none;'><a href='return_values.rb.html#17'>Mocha::ReturnValues#next</a></span></div></div>
<div class='line' id='570'><pre>570: </pre><pre>    end</pre></div>
<div class='line' id='571'><pre>571: </pre><pre></pre></div>
<div class='line' id='572'><pre>572: </pre><pre>    # @private</pre></div>
<div class='line' id='573'><pre>573: </pre><div class='calls'><span class='method_definition'><pre>    def verified?(assertion_counter = nil)</pre></span> <span style='display:none;'><a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a> <a href='expectation_list.rb.html#31'>/Users/eloy/.rbenv/versions/2.0.0-p247/lib/ruby/gems/2.0.0/gems/mocha-0.14.0/lib/mocha/expectation_list.rb:31</a></span></div></div>
<div class='line' id='574'><pre>574: </pre><div class='calls'><span class='method_call'><pre>      assertion_counter.increment if assertion_counter && @cardinality.needs_verifying?</pre></span> <span style='display:none;'><a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='../../../mocha-on-bacon-0.2.2/lib/mocha-on-bacon.rb.html#5'>#<Class:Bacon::MochaRequirementsCounter>#increment</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a> <a href='cardinality.rb.html#42'>Mocha::Cardinality#needs_verifying?</a></span></div></div>
<div class='line' id='575'><pre>575: </pre><div class='calls'><span class='method_call'><pre>      @cardinality.verified?(@invocation_count)</pre></span> <span style='display:none;'><a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a> <a href='cardinality.rb.html#46'>Mocha::Cardinality#verified?</a></span></div></div>
<div class='line' id='576'><pre>576: </pre><pre>    end</pre></div>
<div class='line' id='577'><pre>577: </pre><pre></pre></div>
<div class='line' id='578'><pre>578: </pre><pre>    # @private</pre></div>
<div class='line' id='579'><pre>579: </pre><pre>    def used?</pre></div>
<div class='line' id='580'><pre>580: </pre><pre>      @cardinality.used?(@invocation_count)</pre></div>
<div class='line' id='581'><pre>581: </pre><pre>    end</pre></div>
<div class='line' id='582'><pre>582: </pre><pre></pre></div>
<div class='line' id='583'><pre>583: </pre><pre>    # @private</pre></div>
<div class='line' id='584'><pre>584: </pre><pre>    def inspect</pre></div>
<div class='line' id='585'><pre>585: </pre><pre>      address = __id__ * 2</pre></div>
<div class='line' id='586'><pre>586: </pre><pre>      address += 0x100000000 if address < 0</pre></div>
<div class='line' id='587'><pre>587: </pre><pre>      "#<Expectation:0x#{'%x' % address} #{mocha_inspect} >"</pre></div>
<div class='line' id='588'><pre>588: </pre><pre>    end</pre></div>
<div class='line' id='589'><pre>589: </pre><pre></pre></div>
<div class='line' id='590'><pre>590: </pre><pre>    # @private</pre></div>
<div class='line' id='591'><pre>591: </pre><pre>    def mocha_inspect</pre></div>
<div class='line' id='592'><pre>592: </pre><pre>      message = "#{@cardinality.mocha_inspect}, "</pre></div>
<div class='line' id='593'><pre>593: </pre><pre>      message << case @invocation_count</pre></div>
<div class='line' id='594'><pre>594: </pre><pre>        when 0 then "not yet invoked"</pre></div>
<div class='line' id='595'><pre>595: </pre><pre>        when 1 then "invoked once"</pre></div>
<div class='line' id='596'><pre>596: </pre><pre>        when 2 then "invoked twice"</pre></div>
<div class='line' id='597'><pre>597: </pre><pre>        else "invoked #{@invocation_count} times"</pre></div>
<div class='line' id='598'><pre>598: </pre><pre>      end</pre></div>
<div class='line' id='599'><pre>599: </pre><pre>      message << ": "</pre></div>
<div class='line' id='600'><pre>600: </pre><pre>      message << method_signature</pre></div>
<div class='line' id='601'><pre>601: </pre><pre>      message << "; #{@ordering_constraints.map { |oc| oc.mocha_inspect }.join("; ")}" unless @ordering_constraints.empty?</pre></div>
<div class='line' id='602'><pre>602: </pre><pre>      message</pre></div>
<div class='line' id='603'><pre>603: </pre><pre>    end</pre></div>
<div class='line' id='604'><pre>604: </pre><pre></pre></div>
<div class='line' id='605'><pre>605: </pre><pre>    # @private</pre></div>
<div class='line' id='606'><pre>606: </pre><pre>    def method_signature</pre></div>
<div class='line' id='607'><pre>607: </pre><pre>      "#{@mock.mocha_inspect}.#{@method_matcher.mocha_inspect}#{@parameters_matcher.mocha_inspect}"</pre></div>
<div class='line' id='608'><pre>608: </pre><pre>    end</pre></div>
<div class='line' id='609'><pre>609: </pre><pre></pre></div>
<div class='line' id='610'><pre>610: </pre><pre>  end</pre></div>
<div class='line' id='611'><pre>611: </pre><pre></pre></div>
<div class='line' id='612'><pre>612: </pre><pre>end</pre></div>
<script src='../../../../../../../../../../../../../zepto.js'></script>
<script>
  var update_highlight = function() {
    console.log('hash change');
    $('div.highlight').removeClass('highlight');
    var hash = window.location.hash;
    if (hash.length > 0) $(hash).addClass('highlight');
  };
  $(window).on('hashchange', update_highlight);
  update_highlight();

  $(window).on('mouseenter', 'div.calls', function() {
    $(this).children().last().show();
  });
  $(window).on('mouseleave', 'div.calls', function() {
    $(this).children().last().hide();
  });
</script>
</body>
</html>
