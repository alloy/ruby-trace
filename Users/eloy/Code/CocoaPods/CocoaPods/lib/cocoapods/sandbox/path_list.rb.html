<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style type="text/css">
.highlight { background-color: rgb(255, 255, 204); }
pre { display: inline; }
div.calls { display: inline; }
span.method_definition { font-weight: bold; }
span.method_call { font-weight: bold; }
div.line a { font-size: 12px; }
</style>
</head>
<body>
<div class='line' id='1'><pre>  1: </pre><pre>module Pod</pre></div>
<div class='line' id='2'><pre>  2: </pre><pre>  class Sandbox</pre></div>
<div class='line' id='3'><pre>  3: </pre><pre></pre></div>
<div class='line' id='4'><pre>  4: </pre><pre>    # The PathList class is designed to perform multiple glob matches against</pre></div>
<div class='line' id='5'><pre>  5: </pre><pre>    # a given directory. Basically, it generates a list of all the children</pre></div>
<div class='line' id='6'><pre>  6: </pre><pre>    # paths and matches the globs patterns against them, resulting in just one</pre></div>
<div class='line' id='7'><pre>  7: </pre><pre>    # access to the file system.</pre></div>
<div class='line' id='8'><pre>  8: </pre><pre>    #</pre></div>
<div class='line' id='9'><pre>  9: </pre><pre>    # @note   A PathList once it has generated the list of the paths this is</pre></div>
<div class='line' id='10'><pre> 10: </pre><pre>    #         updated only if explicitly requested by calling</pre></div>
<div class='line' id='11'><pre> 11: </pre><pre>    #         {#read_file_system}</pre></div>
<div class='line' id='12'><pre> 12: </pre><pre>    #</pre></div>
<div class='line' id='13'><pre> 13: </pre><pre>    class PathList</pre></div>
<div class='line' id='14'><pre> 14: </pre><pre></pre></div>
<div class='line' id='15'><pre> 15: </pre><pre>      # @return [Pathname] The root of the list whose files and directories</pre></div>
<div class='line' id='16'><pre> 16: </pre><pre>      #         are used to perform the matching operations.</pre></div>
<div class='line' id='17'><pre> 17: </pre><pre>      #</pre></div>
<div class='line' id='18'><pre> 18: </pre><pre>      attr_accessor :root</pre></div>
<div class='line' id='19'><pre> 19: </pre><pre></pre></div>
<div class='line' id='20'><pre> 20: </pre><pre>      # @param  [Pathname] root The root of the PathList.</pre></div>
<div class='line' id='21'><pre> 21: </pre><pre>      #</pre></div>
<div class='line' id='22'><pre> 22: </pre><div class='calls'><span class='method_definition'><pre>      def initialize(root)</pre></span> <span style='display:none;'><a href='../../../spec/unit/hooks/pod_representation_spec.rb.html#9'>/Users/eloy/Code/CocoaPods/CocoaPods/spec/unit/hooks/pod_representation_spec.rb:9</a></span></div></div>
<div class='line' id='23'><pre> 23: </pre><pre>        @root = root</pre></div>
<div class='line' id='24'><pre> 24: </pre><pre>      end</pre></div>
<div class='line' id='25'><pre> 25: </pre><pre></pre></div>
<div class='line' id='26'><pre> 26: </pre><pre>      # @return [Array<String>] The list of absolute the path of all the files</pre></div>
<div class='line' id='27'><pre> 27: </pre><pre>      #         contained in {root}.</pre></div>
<div class='line' id='28'><pre> 28: </pre><pre>      #</pre></div>
<div class='line' id='29'><pre> 29: </pre><div class='calls'><span class='method_definition'><pre>      def files</pre></span> <span style='display:none;'><a href='path_list.rb.html#94'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:94</a></span></div></div>
<div class='line' id='30'><pre> 30: </pre><div class='calls'><span class='method_call'><pre>        read_file_system unless @files</pre></span> <span style='display:none;'><a href='path_list.rb.html#45'>Pod::Sandbox::PathList#read_file_system</a> <a href='path_list.rb.html#56'>Array#-</a></span></div></div>
<div class='line' id='31'><pre> 31: </pre><pre>        @files</pre></div>
<div class='line' id='32'><pre> 32: </pre><pre>      end</pre></div>
<div class='line' id='33'><pre> 33: </pre><pre></pre></div>
<div class='line' id='34'><pre> 34: </pre><pre>      # @return [Array<String>] The list of absolute the path of all the</pre></div>
<div class='line' id='35'><pre> 35: </pre><pre>      #         directories contained in {root}.</pre></div>
<div class='line' id='36'><pre> 36: </pre><pre>      #</pre></div>
<div class='line' id='37'><pre> 37: </pre><div class='calls'><span class='method_definition'><pre>      def dirs</pre></span> <span style='display:none;'><a href='path_list.rb.html#136'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:136</a></span></div></div>
<div class='line' id='38'><pre> 38: </pre><pre>        read_file_system unless @dirs</pre></div>
<div class='line' id='39'><pre> 39: </pre><pre>        @dirs</pre></div>
<div class='line' id='40'><pre> 40: </pre><pre>      end</pre></div>
<div class='line' id='41'><pre> 41: </pre><pre></pre></div>
<div class='line' id='42'><pre> 42: </pre><pre>      # @return [void] Reads the file system and populates the files and paths</pre></div>
<div class='line' id='43'><pre> 43: </pre><pre>      #         lists.</pre></div>
<div class='line' id='44'><pre> 44: </pre><pre>      #</pre></div>
<div class='line' id='45'><pre> 45: </pre><div class='calls'><span class='method_definition'><pre>      def read_file_system</pre></span> <span style='display:none;'><a href='path_list.rb.html#30'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:30</a></span></div></div>
<div class='line' id='46'><pre> 46: </pre><pre>        unless root.exist?</pre></div>
<div class='line' id='47'><pre> 47: </pre><pre>          raise Informative, "Attempt to read non existent folder `#{root}`."</pre></div>
<div class='line' id='48'><pre> 48: </pre><pre>        end</pre></div>
<div class='line' id='49'><pre> 49: </pre><pre>        root_length  = root.to_s.length+1</pre></div>
<div class='line' id='50'><pre> 50: </pre><div class='calls'><span class='method_call'><pre>        escaped_root = escape_path_for_glob(root)</pre></span> <span style='display:none;'><a href='path_list.rb.html#191'>Pod::Sandbox::PathList#escape_path_for_glob</a></span></div></div>
<div class='line' id='51'><pre> 51: </pre><div class='calls'><span class='method_call'><pre>        paths  = Dir.glob(escaped_root + "**/*", File::FNM_DOTMATCH)</pre></span> <span style='display:none;'><a href='../../../../../../.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/pathname.rb.html#329'>Pathname#+</a></span></div></div>
<div class='line' id='52'><pre> 52: </pre><pre>        absolute_dirs  = paths.select { |path| File.directory?(path) }</pre></div>
<div class='line' id='53'><pre> 53: </pre><pre>        relative_dirs  = absolute_dirs.map  { |p| p[root_length..-1] }</pre></div>
<div class='line' id='54'><pre> 54: </pre><pre>        absolute_paths = paths.reject { |p| p == "#{root}/." || p == "#{root}/.." }</pre></div>
<div class='line' id='55'><pre> 55: </pre><pre>        relative_paths = absolute_paths.map { |p| p[root_length..-1] }</pre></div>
<div class='line' id='56'><pre> 56: </pre><div class='calls'><span class='method_definition'><pre>        @files = relative_paths - relative_dirs</pre></span> <span style='display:none;'><a href='path_list.rb.html#30'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:30</a></span></div></div>
<div class='line' id='57'><pre> 57: </pre><pre>        @dirs  = relative_dirs.map { |d| d.gsub(/\/\.\.?$/,'') }.reject { |d| d == '.' || d == '..' } .uniq</pre></div>
<div class='line' id='58'><pre> 58: </pre><pre>      end</pre></div>
<div class='line' id='59'><pre> 59: </pre><pre></pre></div>
<div class='line' id='60'><pre> 60: </pre><pre>      #-----------------------------------------------------------------------#</pre></div>
<div class='line' id='61'><pre> 61: </pre><pre></pre></div>
<div class='line' id='62'><pre> 62: </pre><pre>      public</pre></div>
<div class='line' id='63'><pre> 63: </pre><pre></pre></div>
<div class='line' id='64'><pre> 64: </pre><pre>      # @!group Globbing</pre></div>
<div class='line' id='65'><pre> 65: </pre><pre></pre></div>
<div class='line' id='66'><pre> 66: </pre><pre>      # @return [Array<Pathname>] Similar to {glob} but returns the absolute</pre></div>
<div class='line' id='67'><pre> 67: </pre><pre>      #         paths.</pre></div>
<div class='line' id='68'><pre> 68: </pre><pre>      #</pre></div>
<div class='line' id='69'><pre> 69: </pre><div class='calls'><span class='method_definition'><pre>      def glob(patterns, options = {})</pre></span> <span style='display:none;'><a href='file_accessor.rb.html#227'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/file_accessor.rb:227</a></span></div></div>
<div class='line' id='70'><pre> 70: </pre><div class='calls'><span class='method_call'><pre>        relative_glob(patterns, options).map {|p| root + p }</pre></span> <span style='display:none;'><a href='../../../../../../.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/pathname.rb.html#329'>Pathname#+</a> <a href='path_list.rb.html#117'>Array#-</a> <a href='path_list.rb.html#84'>Pod::Sandbox::PathList#relative_glob</a></span></div></div>
<div class='line' id='71'><pre> 71: </pre><pre>      end</pre></div>
<div class='line' id='72'><pre> 72: </pre><pre></pre></div>
<div class='line' id='73'><pre> 73: </pre><pre>      # @return [Array<Pathname>] The list of relative paths that are case</pre></div>
<div class='line' id='74'><pre> 74: </pre><pre>      #         insensitively matched by a given pattern. This method emulates</pre></div>
<div class='line' id='75'><pre> 75: </pre><pre>      #         {Dir#glob} with the {File::FNM_CASEFOLD} option.</pre></div>
<div class='line' id='76'><pre> 76: </pre><pre>      #</pre></div>
<div class='line' id='77'><pre> 77: </pre><pre>      # @param  [String,Array<String>] patterns</pre></div>
<div class='line' id='78'><pre> 78: </pre><pre>      #         A single {Dir#glob} like pattern, or a list of patterns.</pre></div>
<div class='line' id='79'><pre> 79: </pre><pre>      #</pre></div>
<div class='line' id='80'><pre> 80: </pre><pre>      # @param  [String] dir_pattern</pre></div>
<div class='line' id='81'><pre> 81: </pre><pre>      #         An optional pattern to append to a pattern, if it is the path</pre></div>
<div class='line' id='82'><pre> 82: </pre><pre>      #         to a directory.</pre></div>
<div class='line' id='83'><pre> 83: </pre><pre>      #</pre></div>
<div class='line' id='84'><pre> 84: </pre><div class='calls'><span class='method_definition'><pre>      def relative_glob(patterns, options = {})</pre></span> <span style='display:none;'><a href='path_list.rb.html#117'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:117</a> <a href='path_list.rb.html#70'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:70</a></span></div></div>
<div class='line' id='85'><pre> 85: </pre><pre>        return [] if patterns.empty?</pre></div>
<div class='line' id='86'><pre> 86: </pre><pre></pre></div>
<div class='line' id='87'><pre> 87: </pre><pre>        dir_pattern = options[:dir_pattern]</pre></div>
<div class='line' id='88'><pre> 88: </pre><pre>        exclude_patterns = options[:exclude_patterns]</pre></div>
<div class='line' id='89'><pre> 89: </pre><pre>        include_dirs = options[:include_dirs]</pre></div>
<div class='line' id='90'><pre> 90: </pre><pre></pre></div>
<div class='line' id='91'><pre> 91: </pre><pre>        if include_dirs</pre></div>
<div class='line' id='92'><pre> 92: </pre><pre>          full_list = files + dirs</pre></div>
<div class='line' id='93'><pre> 93: </pre><pre>        else</pre></div>
<div class='line' id='94'><pre> 94: </pre><div class='calls'><span class='method_call'><pre>          full_list = files</pre></span> <span style='display:none;'><a href='path_list.rb.html#29'>Pod::Sandbox::PathList#files</a></span></div></div>
<div class='line' id='95'><pre> 95: </pre><pre>        end</pre></div>
<div class='line' id='96'><pre> 96: </pre><pre></pre></div>
<div class='line' id='97'><pre> 97: </pre><pre>        list = Array(patterns).map do |pattern|</pre></div>
<div class='line' id='98'><pre> 98: </pre><pre>          if pattern.is_a?(String)</pre></div>
<div class='line' id='99'><pre> 99: </pre><div class='calls'><span class='method_call'><pre>            if directory?(pattern) && dir_pattern</pre></span> <span style='display:none;'><a href='path_list.rb.html#134'>Pod::Sandbox::PathList#directory?</a></span></div></div>
<div class='line' id='100'><pre>100: </pre><pre>              pattern += '/' unless pattern.end_with?('/')</pre></div>
<div class='line' id='101'><pre>101: </pre><pre>              pattern +=  dir_pattern</pre></div>
<div class='line' id='102'><pre>102: </pre><pre>            end</pre></div>
<div class='line' id='103'><pre>103: </pre><div class='calls'><span class='method_call'><pre>            expanded_patterns = dir_glob_equivalent_patterns(pattern)</pre></span> <span style='display:none;'><a href='path_list.rb.html#158'>Pod::Sandbox::PathList#dir_glob_equivalent_patterns</a></span></div></div>
<div class='line' id='104'><pre>104: </pre><pre>            full_list.select do |path|</pre></div>
<div class='line' id='105'><pre>105: </pre><pre>              expanded_patterns.any? do |p|</pre></div>
<div class='line' id='106'><pre>106: </pre><pre>                File.fnmatch(p, path, File::FNM_CASEFOLD | File::FNM_PATHNAME)</pre></div>
<div class='line' id='107'><pre>107: </pre><pre>              end</pre></div>
<div class='line' id='108'><pre>108: </pre><pre>            end</pre></div>
<div class='line' id='109'><pre>109: </pre><pre>          else</pre></div>
<div class='line' id='110'><pre>110: </pre><pre>            full_list.select { |path| path.match(pattern) }</pre></div>
<div class='line' id='111'><pre>111: </pre><pre>          end</pre></div>
<div class='line' id='112'><pre>112: </pre><pre>        end.flatten</pre></div>
<div class='line' id='113'><pre>113: </pre><pre></pre></div>
<div class='line' id='114'><pre>114: </pre><pre>        list = list.map { |path| Pathname.new(path) }</pre></div>
<div class='line' id='115'><pre>115: </pre><pre>        if exclude_patterns</pre></div>
<div class='line' id='116'><pre>116: </pre><pre>          exclude_options = { :dir_pattern => '**/*', :include_dirs => include_dirs }</pre></div>
<div class='line' id='117'><pre>117: </pre><div class='calls'><span class='method_definition'><pre>          list -= relative_glob(exclude_patterns, exclude_options)</pre></span> <span style='display:none;'><a href='path_list.rb.html#70'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:70</a></span></div></div>
<div class='line' id='118'><pre>118: </pre><pre>        end</pre></div>
<div class='line' id='119'><pre>119: </pre><pre>        list</pre></div>
<div class='line' id='120'><pre>120: </pre><pre>      end</pre></div>
<div class='line' id='121'><pre>121: </pre><pre></pre></div>
<div class='line' id='122'><pre>122: </pre><pre>      #-----------------------------------------------------------------------#</pre></div>
<div class='line' id='123'><pre>123: </pre><pre></pre></div>
<div class='line' id='124'><pre>124: </pre><pre>      private</pre></div>
<div class='line' id='125'><pre>125: </pre><pre></pre></div>
<div class='line' id='126'><pre>126: </pre><pre>      # @!group Private helpers</pre></div>
<div class='line' id='127'><pre>127: </pre><pre></pre></div>
<div class='line' id='128'><pre>128: </pre><pre>      # @return [Bool] Wether a path is a directory. The result of this method</pre></div>
<div class='line' id='129'><pre>129: </pre><pre>      #         computed without accessing the file system and is case</pre></div>
<div class='line' id='130'><pre>130: </pre><pre>      #         insensitive.</pre></div>
<div class='line' id='131'><pre>131: </pre><pre>      #</pre></div>
<div class='line' id='132'><pre>132: </pre><pre>      # @param  [String, Pathname] sub_path The path that could be a directory.</pre></div>
<div class='line' id='133'><pre>133: </pre><pre>      #</pre></div>
<div class='line' id='134'><pre>134: </pre><div class='calls'><span class='method_definition'><pre>      def directory?(sub_path)</pre></span> <span style='display:none;'><a href='path_list.rb.html#99'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:99</a></span></div></div>
<div class='line' id='135'><pre>135: </pre><pre>        sub_path = sub_path.to_s.downcase.sub(/\/$/, '')</pre></div>
<div class='line' id='136'><pre>136: </pre><div class='calls'><span class='method_call'><pre>        dirs.any? { |dir| dir.downcase == sub_path }</pre></span> <span style='display:none;'><a href='path_list.rb.html#37'>Pod::Sandbox::PathList#dirs</a></span></div></div>
<div class='line' id='137'><pre>137: </pre><pre>      end</pre></div>
<div class='line' id='138'><pre>138: </pre><pre></pre></div>
<div class='line' id='139'><pre>139: </pre><pre>      # @return [Array<String>] An array of patterns converted from a</pre></div>
<div class='line' id='140'><pre>140: </pre><pre>      #         {Dir.glob} pattern to patterns that {File.fnmatch} can handle.</pre></div>
<div class='line' id='141'><pre>141: </pre><pre>      #         This is used by the {#relative_glob} method to emulate</pre></div>
<div class='line' id='142'><pre>142: </pre><pre>      #         {Dir.glob}.</pre></div>
<div class='line' id='143'><pre>143: </pre><pre>      #</pre></div>
<div class='line' id='144'><pre>144: </pre><pre>      #   The expansion provides support for:</pre></div>
<div class='line' id='145'><pre>145: </pre><pre>      #</pre></div>
<div class='line' id='146'><pre>146: </pre><pre>      #   - Literals</pre></div>
<div class='line' id='147'><pre>147: </pre><pre>      #</pre></div>
<div class='line' id='148'><pre>148: </pre><pre>      #       dir_glob_equivalent_patterns('{file1,file2}.{h,m}')</pre></div>
<div class='line' id='149'><pre>149: </pre><pre>      #       => ["file1.h", "file1.m", "file2.h", "file2.m"]</pre></div>
<div class='line' id='150'><pre>150: </pre><pre>      #</pre></div>
<div class='line' id='151'><pre>151: </pre><pre>      #   - Matching the direct children of a directory with `**`</pre></div>
<div class='line' id='152'><pre>152: </pre><pre>      #</pre></div>
<div class='line' id='153'><pre>153: </pre><pre>      #       dir_glob_equivalent_patterns('Classes/**/file.m')</pre></div>
<div class='line' id='154'><pre>154: </pre><pre>      #       => ["Classes/**/file.m", "Classes/file.m"]</pre></div>
<div class='line' id='155'><pre>155: </pre><pre>      #</pre></div>
<div class='line' id='156'><pre>156: </pre><pre>      # @param [String] pattern   A {Dir#glob} like pattern.</pre></div>
<div class='line' id='157'><pre>157: </pre><pre>      #</pre></div>
<div class='line' id='158'><pre>158: </pre><div class='calls'><span class='method_definition'><pre>      def dir_glob_equivalent_patterns(pattern)</pre></span> <span style='display:none;'><a href='path_list.rb.html#103'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:103</a></span></div></div>
<div class='line' id='159'><pre>159: </pre><pre>        pattern = pattern.gsub('/**/', '{/**/,/}')</pre></div>
<div class='line' id='160'><pre>160: </pre><pre>        values_by_set = {}</pre></div>
<div class='line' id='161'><pre>161: </pre><pre>        pattern.scan(/\{[^}]*\}/) do |set|</pre></div>
<div class='line' id='162'><pre>162: </pre><pre>          values = set.gsub(/[{}]/, '').split(',')</pre></div>
<div class='line' id='163'><pre>163: </pre><pre>          values_by_set[set] = values</pre></div>
<div class='line' id='164'><pre>164: </pre><pre>        end</pre></div>
<div class='line' id='165'><pre>165: </pre><pre></pre></div>
<div class='line' id='166'><pre>166: </pre><pre>        if values_by_set.empty?</pre></div>
<div class='line' id='167'><pre>167: </pre><pre>          [ pattern ]</pre></div>
<div class='line' id='168'><pre>168: </pre><pre>        else</pre></div>
<div class='line' id='169'><pre>169: </pre><pre>          patterns = [ pattern ]</pre></div>
<div class='line' id='170'><pre>170: </pre><pre>          values_by_set.each do |set, values|</pre></div>
<div class='line' id='171'><pre>171: </pre><pre>            patterns = patterns.map do |old_pattern|</pre></div>
<div class='line' id='172'><pre>172: </pre><pre>              values.map do |value|</pre></div>
<div class='line' id='173'><pre>173: </pre><pre>                old_pattern.gsub(set, value)</pre></div>
<div class='line' id='174'><pre>174: </pre><pre>              end</pre></div>
<div class='line' id='175'><pre>175: </pre><pre>            end.flatten</pre></div>
<div class='line' id='176'><pre>176: </pre><pre>          end</pre></div>
<div class='line' id='177'><pre>177: </pre><pre>          patterns</pre></div>
<div class='line' id='178'><pre>178: </pre><pre>        end</pre></div>
<div class='line' id='179'><pre>179: </pre><pre>      end</pre></div>
<div class='line' id='180'><pre>180: </pre><pre></pre></div>
<div class='line' id='181'><pre>181: </pre><pre>      # Escapes the glob metacharacters from a given path so it can used in</pre></div>
<div class='line' id='182'><pre>182: </pre><pre>      # Dir#glob and similar methods.</pre></div>
<div class='line' id='183'><pre>183: </pre><pre>      #</pre></div>
<div class='line' id='184'><pre>184: </pre><pre>      # @note   See CocoaPods/CocoaPods#862.</pre></div>
<div class='line' id='185'><pre>185: </pre><pre>      #</pre></div>
<div class='line' id='186'><pre>186: </pre><pre>      # @param  [String, Pathname] path</pre></div>
<div class='line' id='187'><pre>187: </pre><pre>      #         The path to escape.</pre></div>
<div class='line' id='188'><pre>188: </pre><pre>      #</pre></div>
<div class='line' id='189'><pre>189: </pre><pre>      # @return [Pathname] The escaped path.</pre></div>
<div class='line' id='190'><pre>190: </pre><pre>      #</pre></div>
<div class='line' id='191'><pre>191: </pre><div class='calls'><span class='method_definition'><pre>      def escape_path_for_glob(path)</pre></span> <span style='display:none;'><a href='path_list.rb.html#50'>/Users/eloy/Code/CocoaPods/CocoaPods/lib/cocoapods/sandbox/path_list.rb:50</a></span></div></div>
<div class='line' id='192'><pre>192: </pre><pre>        result = path.to_s</pre></div>
<div class='line' id='193'><pre>193: </pre><pre>        characters_to_escape = ['[', ']', '{', '}', '?', '*']</pre></div>
<div class='line' id='194'><pre>194: </pre><pre>        characters_to_escape.each do |character|</pre></div>
<div class='line' id='195'><pre>195: </pre><pre>          result.gsub!(character, "\\#{character}" )</pre></div>
<div class='line' id='196'><pre>196: </pre><pre>        end</pre></div>
<div class='line' id='197'><pre>197: </pre><pre>        Pathname.new(result)</pre></div>
<div class='line' id='198'><pre>198: </pre><pre>      end</pre></div>
<div class='line' id='199'><pre>199: </pre><pre></pre></div>
<div class='line' id='200'><pre>200: </pre><pre>      #-----------------------------------------------------------------------#</pre></div>
<div class='line' id='201'><pre>201: </pre><pre></pre></div>
<div class='line' id='202'><pre>202: </pre><pre>    end</pre></div>
<div class='line' id='203'><pre>203: </pre><pre>  end</pre></div>
<div class='line' id='204'><pre>204: </pre><pre>end</pre></div>
<script src='../../../../../../../../zepto.js'></script>
<script>
  var update_highlight = function() {
    $('div.highlight').removeClass('highlight');
    var hash = window.location.hash;
    if (hash.length > 0) $(hash).addClass('highlight');
  };
  $(window).on('hashchange', update_highlight);
  update_highlight();

  $(window).on('mouseenter', 'div.calls', function() {
    $(this).children().last().show();
  });
  $(window).on('mouseleave', 'div.calls', function() {
    $(this).children().last().hide();
  });
</script>
</body>
</html>
